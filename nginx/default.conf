server {
  listen 80;
  server_name _;
  server_tokens off;

  location / {
    proxy_pass http://web_app:8000;
    add_header Cross-Origin-Opener-Policy "same-origin";
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $host;
    proxy_redirect off;
  }

  # location /admin/ {
  #   proxy_pass http://admin:8001;
  #   add_header Cross-Origin-Opener-Policy "same-origin";
  #   proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
  #   proxy_set_header Host $host;
  #   proxy_redirect off;
  # }

  location /web-app/static/ {
    alias /web_app/static/;
  }

  location /web-app/media/ {
    alias /web_app/media/;
  }

  # location /admin/static/ {
  #   alias /admin/static/;
  # }

  # location /admin/media/ {
  #   alias /admin/media/;
  # }
}
